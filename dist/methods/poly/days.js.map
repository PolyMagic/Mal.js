{"version":3,"sources":["../src/methods/poly/days.ts"],"names":[],"mappings":"AAAA,MAAM,CAAC,OAAO,GAAG,UAAC,IAAY,EAAE,IAAsB;IAAtB,qBAAA,EAAA,cAAsB;IACpD,IAAM,EAAE,GAAG,OAAO,CAAC,wBAAwB,CAAC,CAAC;IAC7C,IAAM,OAAO,GAAG,OAAO,CAAC,SAAS,CAAC,CAAC;IAEnC,OAAO,IAAI,OAAO,CAAC,UAAC,GAAG,EAAE,GAAG;QAC1B,EAAE,CAAC,qCAAmC,IAAM,CAAC;aAC1C,IAAI,CAAC,UAAA,GAAG,IAAI,OAAA,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,EAAjB,CAAiB,CAAC;aAC9B,IAAI,CAAC,UAAA,CAAC;YACL,OAAA,CAAC,CAAC,YAAU,IAAI,iBAAc,CAAC;iBAC5B,QAAQ,EAAE;iBACV,EAAE,CAAC,CAAC,CAAC;iBACL,IAAI,EAAE;QAHT,CAGS,CACV;aACA,IAAI,CAAC,UAAA,OAAO,IAAI,OAAA,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAtB,CAAsB,CAAC;aACvC,IAAI,CAAC,UAAA,OAAO,IAAI,OAAA,UAAU,CAAC,OAAO,CAAC,EAAnB,CAAmB,CAAC;aACpC,IAAI,CAAC,UAAA,OAAO;YACX,IAAI,KAAK,CAAC,OAAO,CAAC;gBAAE,MAAM,IAAI,KAAK,CAAC,cAAc,CAAC,CAAC;;gBAC/C,GAAG,CAAC,OAAO,CAAC,CAAC;QACpB,CAAC,CAAC;aACD,KAAK,CAAC,UAAA,GAAG,IAAI,OAAA,GAAG,CAAC,gBAAgB,CAAC,EAArB,CAAqB,CAAC,CAAC;IACzC,CAAC,CAAC,CAAC;AACL,CAAC,CAAC","file":"days.js","sourcesContent":["module.exports = (name: string, type: string = \"anime\") => {\r\n  const rp = require(\"request-promise-native\");\r\n  const cheerio = require(\"cheerio\");\r\n\r\n  return new Promise((res, rej) => {\r\n    rp(`https://myanimelist.net/profile/${name}`)\r\n      .then(res => cheerio.load(res))\r\n      .then($ =>\r\n        $(`.stats.${type} .stat-score`)\r\n          .children()\r\n          .eq(0)\r\n          .text()\r\n      )\r\n      .then(daysRaw => daysRaw.split(\": \")[1])\r\n      .then(daysStr => parseFloat(daysStr))\r\n      .then(daysNum => {\r\n        if (isNaN(daysNum)) throw new Error(\"Not a number\");\r\n        else res(daysNum);\r\n      })\r\n      .catch(err => rej(\"Days Not Found\"));\r\n  });\r\n};\r\n"],"sourceRoot":"../../../src"}